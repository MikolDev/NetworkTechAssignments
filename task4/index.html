<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Task 4</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.8/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-sRIl4kxILFvY47J16cr9ZwB07vP4J8+LH7qKQnuqkuIAvNWLzeN8tE5YBujZqJLB" crossorigin="anonymous">
    <link rel="stylesheet" href="style.css">

</head>
<body>
    <a href="practical.html">Practical</a>
    <div class="container">
        <h1>Task 4 - Network and Transport Layers</h1>
        <p>Mikołaj Cichocki 257272, Szymon Machała 257281 All rights reserved 2025</p>
        <h1>Theoretical part</h1>
        <h2>TCP protocol</h2>
        <p><b>Transmission Control Protocol (TCP)</b> is a connection-oriented Transport layer protocol. TCP lets a device reliably send a packet to another device on the same network or on a different network. TCP ensures that each packet is delivered, if at all possible, by establishing a connection with the receiving device and then sending the packets. If a packet doesn't arrive, TCP resends the packet. The connection is closed only after the packet has been successfully delivered or an unrecoverable error condition has occurred.</p>
        <h2>TCP connection</h2>
        <p>TCP protocol can be divided into 3 phases:</p>
        <ul>
            <li>Connection establishment</li>
            <li>Data transfer phase</li>
            <li>Connection termination</li>
        </ul>
        <p>Before a client attempts to connect with a server, the server must first bind to and listen at a port to open it up for connections: this is called a passive open. Once the passive open is established, a client may establish a connection by initiating an active open using the three-way (or 3-step) handshake.</p>
        <p>Steps 1 and 2 establish and acknowledge the sequence number for one direction (client to server). Steps 2 and 3 establish and acknowledge the sequence number for the other direction (server to client). Following the completion of these steps, both the client and server have received acknowledgments and a full-duplex communication is established.</p>
        <img src="img/TCP-three-way-handshake-process-1-2048x571.png" alt="3way handshake" class="img-fluid">
        <a href="https://networkwalks.com/tcp-3-way-handshake-process/">Source</a>
        <p>The connection termination phase uses a four-way handshake, with each side of the connection terminating independently. When an endpoint wishes to stop its half of the connection, it transmits a FIN packet, which the other end acknowledges with an ACK. Therefore, a typical tear-down requires a pair of FIN and ACK segments from each TCP endpoint. After the side that sent the first FIN has responded with the final ACK, it waits for a timeout before finally closing the connection, during which time the local port is unavailable for new connections; this state lets the TCP client resend the final acknowledgment to the server in case the ACK is lost in transit. The time duration is implementation-dependent, but some common values are 30 seconds, 1 minute, and 2 minutes. After the timeout, the client enters the CLOSED state and the local port becomes available for new connections.</p>
        <h2>TCP protocol parameters</h2>
        <img src="img/tcp-header.png" alt="tcp header" class="img-fluid">
        <ul>
            <li>Source port - sending port</li>
            <li>Destination port - receiving port</li>
            <li>Sequence number:
                <ul>
                    <li>If SYN = 1 this is the initial sequence number. First data sent will use this number + 1 (establishing the connection)</li>
                    <li>If SYN = 0 this is the number of the first byte in the segment. Tells which byte of the data stream this packet begins with.</li>
                </ul>
            </li>
            <li>Acknowledgment number - used by the receiver to request the next TCP segment.</li>
            <li>Data Offset - indicate the header length so that we know where the actual data begins</li>
            <li>Reserved - for future use</li>
            <li>Flags:
                <ul>
                    <li>URG - urgent pointer - indicates that urgent pointer is significant. Tells that the data should be treated as priority over other data</li>
                    <li>ACK - indicates that the Acknowledgment field is significant. All packets after the initial SYN packet sent by the client should have this flag set.</li>
                    <li>PSH - push function. This tells an application that the data should be transmitted immediately and that we don't want to wait to fill the entire TCP segment.</li>
                    <li>RST - resets the connection. Used when there are unrecoverable errors.</li>
                    <li>SYN - used in three way handshake.</li>
                    <li>FIN - used to end the transmission.</li>
                </ul>
            </li>
            <li>Window - specifies how many bytes the receiver is willing to receive. It is used so the receiver can tell the sender that it would like to receive more data than what it is currently receiving.</li>
            <li>Checksum - used for error-checking.</li>
            <li>Urgent Pointer - an offset from the sequence number indicating the last urgent data byet.</li>
        </ul>
        

        <h2>UDP protocol</h2>
        <p><b>User Datagram Protocol (UDP)</b> is a connectionless Transport layer protocol used when the overhead of a connection isn't required. After UDP has placed a packet on the network (via the IP protocol), it forgets about it. UDP doesn't guarantee that the packet arrives at its destination. Most applications that use UDP simply wait for any replies expected as a result of packets sent via UDP. If a reply doesn't arrive within a certain period of time, the application either sends the packet again or gives up.</p>
        <h2>UDP protocol parameters</h2>
        <img src="img/udp-header.png" alt="udp header" class="img-fluid">
        <p></p>
        <h2>Ports</h2>
        <p>Ports are virtual endpoints for communication. Port numbers help to identify specific processes or services on a host. They enable multiple services to run simultaneously on a single device. <br>
            <table class="w-100">
                <thead>
                    <tr>
                        <th>Types of ports</th>
                        <th>Range</th>
                        <th>Used for</th>
                        <th>Examples</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>Well-Known</td>
                        <td>0 - 1023</td>
                        <td>Reserved for common services and protocols (e.g., HTTP, FTP, SMTP).</td>
                        <td>HTTP(80), HTTPS(443), FTP(21), SSH(22)</td>

                    </tr>
                    <tr>
                        <td>Registered Ports</td>
                        <td>1024 - 49151</td>
                        <td>Assigned by IANA for specific services that are not as common.</td>
                        <td>MySQL(3306), Microsoft SQL Server(1433)</td>
                    </tr>
                    <tr>
                        <td>Dynamic or Private</td>
                        <td>49152 - 65535</td>
                        <td>Temporary or private connections, often assigned dynamically by the OS.</td>
                        <td>Ephemeral ports: Used for client-side connections in TCP/IP networking.</td>
                    </tr>
                </tbody>
            </table>
        </p>
    </div>
    <a href="practical.html">Practical</a>
</body>
</html>